{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pablo\\\\Documents\\\\Digital house\\\\Front-End 3\\\\FE3\\\\fe3-final\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useMemo, useReducer } from \"react\";\nimport { reducer } from \"./reducer\";\nimport { favoriteReducer } from \"./favoriteReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ContextGlobal = /*#__PURE__*/createContext();\nexport const ContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const initialState = {\n    theme: \"light\",\n    dentists: []\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [favoriteDentists, dispatchFavorites] = useReducer(favoriteReducer, []);\n  useEffect(() => {\n    // Lógica para obtener los favoritos del almacenamiento local (localStorage) y establecer el estado inicial\n    const storedFavs = localStorage.getItem(\"favs\");\n\n    if (storedFavs) {\n      dispatchFavorites({\n        type: \"SET_FAVORITES\",\n        payload: JSON.parse(storedFavs)\n      });\n    }\n  }, []);\n  useEffect(() => {\n    async function fetchData() {\n      let response = await fetch(\"https://jsonplaceholder.typicode.com/users\");\n      let info = await response.json();\n      return info;\n    }\n\n    fetchData().then(data => {\n      dispatch({\n        type: \"ADD_DENTISTS\",\n        payload: data\n      });\n    });\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"favs\", JSON.stringify(favoriteDentists));\n  }, [favoriteDentists]);\n\n  const addFav = payload => {\n    dispatchFavorites({\n      type: \"ADD\",\n      payload\n    });\n  };\n\n  const removeFav = id => {\n    dispatchFavorites({\n      type: \"REMOVE\",\n      payload: {\n        id\n      }\n    });\n  };\n\n  const states = useMemo(() => ({\n    theme: state.theme,\n    dentists: state.dentists,\n    favs: favoriteDentists,\n    setDark: () => {\n      dispatch({\n        type: \"SET_DARK\"\n      });\n    },\n    setLight: () => {\n      dispatch({\n        type: \"SET_LIGHT\"\n      });\n    },\n    addFav,\n    removeFav\n  }), [state.theme, state.dentists, favoriteDentists]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: states,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"GVzGaxuADt0bh9AwRzqMjFWiFpo=\");\n\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useMemo","useReducer","reducer","favoriteReducer","ContextGlobal","ContextProvider","children","initialState","theme","dentists","state","dispatch","favoriteDentists","dispatchFavorites","storedFavs","localStorage","getItem","type","payload","JSON","parse","fetchData","response","fetch","info","json","then","data","setItem","stringify","addFav","removeFav","id","states","favs","setDark","setLight"],"sources":["C:/Users/Pablo/Documents/Digital house/Front-End 3/FE3/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext,  useEffect, useMemo, useReducer } from \"react\";\r\nimport { reducer } from \"./reducer\";\r\nimport { favoriteReducer } from \"./favoriteReducer\";\r\n \r\n\r\nexport const ContextGlobal = createContext();\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const initialState = { theme: \"light\", dentists:[]}\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n  const [favoriteDentists, dispatchFavorites] = useReducer(favoriteReducer,[])\r\n  \r\n  useEffect(() => {\r\n    // Lógica para obtener los favoritos del almacenamiento local (localStorage) y establecer el estado inicial\r\n    const storedFavs = localStorage.getItem(\"favs\");\r\n    if (storedFavs) {\r\n      dispatchFavorites({ type: \"SET_FAVORITES\", payload: JSON.parse(storedFavs) });\r\n    }\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let response = await fetch(\"https://jsonplaceholder.typicode.com/users\")\r\n      let info = await response.json()\r\n      return info\r\n      \r\n    }\r\n    fetchData().then((data) => {\r\n      dispatch({type: \"ADD_DENTISTS\",\r\n      payload:data})\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favs\", JSON.stringify(favoriteDentists))\r\n  }, [favoriteDentists])\r\nconst addFav = (payload) => {\r\n  dispatchFavorites({ type: \"ADD\", payload });\r\n};\r\n\r\nconst removeFav = (id) => {\r\n  dispatchFavorites({ type: \"REMOVE\", payload: { id } });\r\n};\r\n\r\n  const states = useMemo(() => ({\r\n    \r\n        theme : state.theme,\r\n        dentists : state.dentists,\r\n        favs : favoriteDentists,\r\n    \r\n        setDark:()=>{\r\n          dispatch({type:\"SET_DARK\"})},\r\n        setLight:()=>{\r\n          dispatch({type:\"SET_LIGHT\"})},\r\n         addFav,\r\n         removeFav,\r\n          }),[state.theme, state.dentists,favoriteDentists]);\r\n  return (\r\n    <ContextGlobal.Provider value={states}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAyBC,SAAzB,EAAoCC,OAApC,EAA6CC,UAA7C,QAA+D,OAA/D;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,eAAT,QAAgC,mBAAhC;;AAGA,OAAO,MAAMC,aAAa,gBAAGN,aAAa,EAAnC;AAEP,OAAO,MAAMO,eAAe,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC/C,MAAMC,YAAY,GAAG;IAAEC,KAAK,EAAE,OAAT;IAAkBC,QAAQ,EAAC;EAA3B,CAArB;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,UAAU,CAACC,OAAD,EAAUK,YAAV,CAApC;EACA,MAAM,CAACK,gBAAD,EAAmBC,iBAAnB,IAAwCZ,UAAU,CAACE,eAAD,EAAiB,EAAjB,CAAxD;EAEAJ,SAAS,CAAC,MAAM;IACd;IACA,MAAMe,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAnB;;IACA,IAAIF,UAAJ,EAAgB;MACdD,iBAAiB,CAAC;QAAEI,IAAI,EAAE,eAAR;QAAyBC,OAAO,EAAEC,IAAI,CAACC,KAAL,CAAWN,UAAX;MAAlC,CAAD,CAAjB;IACD;EACF,CANQ,EAMN,EANM,CAAT;EAQAf,SAAS,CAAC,MAAM;IACd,eAAesB,SAAf,GAA2B;MACzB,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAAD,CAA1B;MACA,IAAIC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAjB;MACA,OAAOD,IAAP;IAED;;IACDH,SAAS,GAAGK,IAAZ,CAAkBC,IAAD,IAAU;MACzBhB,QAAQ,CAAC;QAACM,IAAI,EAAE,cAAP;QACTC,OAAO,EAACS;MADC,CAAD,CAAR;IAED,CAHD;EAID,CAXQ,EAWN,EAXM,CAAT;EAaA5B,SAAS,CAAC,MAAM;IACdgB,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6BT,IAAI,CAACU,SAAL,CAAejB,gBAAf,CAA7B;EACD,CAFQ,EAEN,CAACA,gBAAD,CAFM,CAAT;;EAGF,MAAMkB,MAAM,GAAIZ,OAAD,IAAa;IAC1BL,iBAAiB,CAAC;MAAEI,IAAI,EAAE,KAAR;MAAeC;IAAf,CAAD,CAAjB;EACD,CAFD;;EAIA,MAAMa,SAAS,GAAIC,EAAD,IAAQ;IACxBnB,iBAAiB,CAAC;MAAEI,IAAI,EAAE,QAAR;MAAkBC,OAAO,EAAE;QAAEc;MAAF;IAA3B,CAAD,CAAjB;EACD,CAFD;;EAIE,MAAMC,MAAM,GAAGjC,OAAO,CAAC,OAAO;IAExBQ,KAAK,EAAGE,KAAK,CAACF,KAFU;IAGxBC,QAAQ,EAAGC,KAAK,CAACD,QAHO;IAIxByB,IAAI,EAAGtB,gBAJiB;IAMxBuB,OAAO,EAAC,MAAI;MACVxB,QAAQ,CAAC;QAACM,IAAI,EAAC;MAAN,CAAD,CAAR;IAA4B,CAPN;IAQxBmB,QAAQ,EAAC,MAAI;MACXzB,QAAQ,CAAC;QAACM,IAAI,EAAC;MAAN,CAAD,CAAR;IAA6B,CATP;IAUvBa,MAVuB;IAWvBC;EAXuB,CAAP,CAAD,EAYX,CAACrB,KAAK,CAACF,KAAP,EAAcE,KAAK,CAACD,QAApB,EAA6BG,gBAA7B,CAZW,CAAtB;EAaA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAEqB,MAA/B;IAAA,UACG3B;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CAvDM;;GAAMD,e;;KAAAA,e"},"metadata":{},"sourceType":"module"}